{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":26,"index":186}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (email, password, name) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          email,\n          password,\n          name\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Error logging out:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":126,"map":[[15,2,24,0,"exports"],[15,9,24,0],[15,10,24,0,"AuthProvider"],[15,22,24,0],[15,25,24,0,"AuthProvider"],[15,37,24,0],[16,2,106,0,"exports"],[16,9,106,0],[16,10,106,0,"useAuth"],[16,17,106,0],[16,20,106,0,"useAuth"],[16,27,106,0],[17,2,112,1],[17,6,112,1,"_expoVirtualEnv"],[17,21,112,1],[17,24,112,1,"require"],[17,31,112,1],[17,32,112,1,"_dependencyMap"],[17,46,112,1],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,3,26],[23,6,3,26,"_reactJsxDevRuntime"],[23,25,3,26],[23,28,3,26,"require"],[23,35,3,26],[23,36,3,26,"_dependencyMap"],[23,50,3,26],[24,2,5,0],[24,8,5,6,"API_URL"],[24,15,5,13],[24,18,5,13,"_expoVirtualEnv"],[24,33,5,13],[24,34,5,13,"env"],[24,37,5,13],[24,38,5,13,"EXPO_PUBLIC_BACKEND_URL"],[24,61,5,51],[25,2,22,0],[25,8,22,6,"AuthContext"],[25,19,22,17],[25,35,22,20],[25,39,22,20,"createContext"],[25,45,22,33],[25,46,22,33,"createContext"],[25,59,22,33],[25,61,22,63,"undefined"],[25,70,22,72],[25,71,22,73],[26,2,24,7],[26,11,24,16,"AuthProvider"],[26,23,24,28,"AuthProvider"],[26,24,24,29],[27,4,24,31,"children"],[28,2,24,65],[28,3,24,66],[28,5,24,68],[29,4,24,68,"_s"],[29,6,24,68],[30,4,25,2],[30,10,25,8],[30,11,25,9,"user"],[30,15,25,13],[30,17,25,15,"setUser"],[30,24,25,22],[30,25,25,23],[30,28,25,26],[30,32,25,26,"useState"],[30,38,25,34],[30,39,25,34,"useState"],[30,47,25,34],[30,49,25,48],[30,53,25,52],[30,54,25,53],[31,4,26,2],[31,10,26,8],[31,11,26,9,"token"],[31,16,26,14],[31,18,26,16,"setToken"],[31,26,26,24],[31,27,26,25],[31,30,26,28],[31,34,26,28,"useState"],[31,40,26,36],[31,41,26,36,"useState"],[31,49,26,36],[31,51,26,52],[31,55,26,56],[31,56,26,57],[32,4,27,2],[32,10,27,8],[32,11,27,9,"loading"],[32,18,27,16],[32,20,27,18,"setLoading"],[32,30,27,28],[32,31,27,29],[32,34,27,32],[32,38,27,32,"useState"],[32,44,27,40],[32,45,27,40,"useState"],[32,53,27,40],[32,55,27,41],[32,59,27,45],[32,60,27,46],[33,4,29,2],[33,8,29,2,"useEffect"],[33,14,29,11],[33,15,29,11,"useEffect"],[33,24,29,11],[33,26,29,12],[33,32,29,18],[34,6,30,4,"loadStoredAuth"],[34,20,30,18],[34,21,30,19],[34,22,30,20],[35,4,31,2],[35,5,31,3],[35,7,31,5],[35,9,31,7],[35,10,31,8],[36,4,33,2],[36,10,33,8,"loadStoredAuth"],[36,24,33,22],[36,27,33,25],[36,33,33,25,"loadStoredAuth"],[36,34,33,25],[36,39,33,37],[37,6,34,4],[37,10,34,8],[38,8,35,6],[38,14,35,12,"storedToken"],[38,25,35,23],[38,28,35,26],[38,34,35,32,"AsyncStorage"],[38,46,35,44],[38,47,35,44,"default"],[38,54,35,44],[38,55,35,45,"getItem"],[38,62,35,52],[38,63,35,53],[38,70,35,60],[38,71,35,61],[39,8,36,6],[39,14,36,12,"storedUser"],[39,24,36,22],[39,27,36,25],[39,33,36,31,"AsyncStorage"],[39,45,36,43],[39,46,36,43,"default"],[39,53,36,43],[39,54,36,44,"getItem"],[39,61,36,51],[39,62,36,52],[39,68,36,58],[39,69,36,59],[40,8,38,6],[40,12,38,10,"storedToken"],[40,23,38,21],[40,27,38,25,"storedUser"],[40,37,38,35],[40,39,38,37],[41,10,39,8,"setToken"],[41,18,39,16],[41,19,39,17,"storedToken"],[41,30,39,28],[41,31,39,29],[42,10,40,8,"setUser"],[42,17,40,15],[42,18,40,16,"JSON"],[42,22,40,20],[42,23,40,21,"parse"],[42,28,40,26],[42,29,40,27,"storedUser"],[42,39,40,37],[42,40,40,38],[42,41,40,39],[43,8,41,6],[44,6,42,4],[44,7,42,5],[44,8,42,6],[44,15,42,13,"error"],[44,20,42,18],[44,22,42,20],[45,8,43,6,"console"],[45,15,43,13],[45,16,43,14,"error"],[45,21,43,19],[45,22,43,20],[45,43,43,41],[45,45,43,43,"error"],[45,50,43,48],[45,51,43,49],[46,6,44,4],[46,7,44,5],[46,16,44,14],[47,8,45,6,"setLoading"],[47,18,45,16],[47,19,45,17],[47,24,45,22],[47,25,45,23],[48,6,46,4],[49,4,47,2],[49,5,47,3],[50,4,49,2],[50,10,49,8,"login"],[50,15,49,13],[50,18,49,16],[50,24,49,16,"login"],[50,25,49,23,"email"],[50,30,49,36],[50,32,49,38,"password"],[50,40,49,54],[50,45,49,59],[51,6,50,4],[51,10,50,8],[52,8,51,6],[52,14,51,12,"response"],[52,22,51,20],[52,25,51,23],[52,31,51,29,"axios"],[52,36,51,34],[52,37,51,34,"default"],[52,44,51,34],[52,45,51,35,"post"],[52,49,51,39],[52,50,51,40],[52,53,51,43,"API_URL"],[52,60,51,50],[52,77,51,67],[52,79,51,69],[53,10,52,8,"email"],[53,15,52,13],[54,10,53,8,"password"],[55,8,54,6],[55,9,54,7],[55,10,54,8],[56,8,56,6],[56,14,56,12],[57,10,56,14,"access_token"],[57,22,56,26],[58,10,56,28,"user"],[58,14,56,32],[58,16,56,34,"userData"],[59,8,56,43],[59,9,56,44],[59,12,56,47,"response"],[59,20,56,55],[59,21,56,56,"data"],[59,25,56,60],[60,8,58,6],[60,14,58,12,"AsyncStorage"],[60,26,58,24],[60,27,58,24,"default"],[60,34,58,24],[60,35,58,25,"setItem"],[60,42,58,32],[60,43,58,33],[60,50,58,40],[60,52,58,42,"access_token"],[60,64,58,54],[60,65,58,55],[61,8,59,6],[61,14,59,12,"AsyncStorage"],[61,26,59,24],[61,27,59,24,"default"],[61,34,59,24],[61,35,59,25,"setItem"],[61,42,59,32],[61,43,59,33],[61,49,59,39],[61,51,59,41,"JSON"],[61,55,59,45],[61,56,59,46,"stringify"],[61,65,59,55],[61,66,59,56,"userData"],[61,74,59,64],[61,75,59,65],[61,76,59,66],[62,8,61,6,"setToken"],[62,16,61,14],[62,17,61,15,"access_token"],[62,29,61,27],[62,30,61,28],[63,8,62,6,"setUser"],[63,15,62,13],[63,16,62,14,"userData"],[63,24,62,22],[63,25,62,23],[64,6,63,4],[64,7,63,5],[64,8,63,6],[64,15,63,13,"error"],[64,20,63,23],[64,22,63,25],[65,8,64,6],[65,14,64,12],[65,18,64,16,"Error"],[65,23,64,21],[65,24,64,22,"error"],[65,29,64,27],[65,30,64,28,"response"],[65,38,64,36],[65,40,64,38,"data"],[65,44,64,42],[65,46,64,44,"detail"],[65,52,64,50],[65,56,64,54],[65,70,64,68],[65,71,64,69],[66,6,65,4],[67,4,66,2],[67,5,66,3],[68,4,68,2],[68,10,68,8,"register"],[68,18,68,16],[68,21,68,19],[68,27,68,19,"register"],[68,28,68,26,"email"],[68,33,68,39],[68,35,68,41,"password"],[68,43,68,57],[68,45,68,59,"name"],[68,49,68,72],[68,54,68,77],[69,6,69,4],[69,10,69,8],[70,8,70,6],[70,14,70,12,"response"],[70,22,70,20],[70,25,70,23],[70,31,70,29,"axios"],[70,36,70,34],[70,37,70,34,"default"],[70,44,70,34],[70,45,70,35,"post"],[70,49,70,39],[70,50,70,40],[70,53,70,43,"API_URL"],[70,60,70,50],[70,80,70,70],[70,82,70,72],[71,10,71,8,"email"],[71,15,71,13],[72,10,72,8,"password"],[72,18,72,16],[73,10,73,8,"name"],[74,8,74,6],[74,9,74,7],[74,10,74,8],[75,8,76,6],[75,14,76,12],[76,10,76,14,"access_token"],[76,22,76,26],[77,10,76,28,"user"],[77,14,76,32],[77,16,76,34,"userData"],[78,8,76,43],[78,9,76,44],[78,12,76,47,"response"],[78,20,76,55],[78,21,76,56,"data"],[78,25,76,60],[79,8,78,6],[79,14,78,12,"AsyncStorage"],[79,26,78,24],[79,27,78,24,"default"],[79,34,78,24],[79,35,78,25,"setItem"],[79,42,78,32],[79,43,78,33],[79,50,78,40],[79,52,78,42,"access_token"],[79,64,78,54],[79,65,78,55],[80,8,79,6],[80,14,79,12,"AsyncStorage"],[80,26,79,24],[80,27,79,24,"default"],[80,34,79,24],[80,35,79,25,"setItem"],[80,42,79,32],[80,43,79,33],[80,49,79,39],[80,51,79,41,"JSON"],[80,55,79,45],[80,56,79,46,"stringify"],[80,65,79,55],[80,66,79,56,"userData"],[80,74,79,64],[80,75,79,65],[80,76,79,66],[81,8,81,6,"setToken"],[81,16,81,14],[81,17,81,15,"access_token"],[81,29,81,27],[81,30,81,28],[82,8,82,6,"setUser"],[82,15,82,13],[82,16,82,14,"userData"],[82,24,82,22],[82,25,82,23],[83,6,83,4],[83,7,83,5],[83,8,83,6],[83,15,83,13,"error"],[83,20,83,23],[83,22,83,25],[84,8,84,6],[84,14,84,12],[84,18,84,16,"Error"],[84,23,84,21],[84,24,84,22,"error"],[84,29,84,27],[84,30,84,28,"response"],[84,38,84,36],[84,40,84,38,"data"],[84,44,84,42],[84,46,84,44,"detail"],[84,52,84,50],[84,56,84,54],[84,77,84,75],[84,78,84,76],[85,6,85,4],[86,4,86,2],[86,5,86,3],[87,4,88,2],[87,10,88,8,"logout"],[87,16,88,14],[87,19,88,17],[87,25,88,17,"logout"],[87,26,88,17],[87,31,88,29],[88,6,89,4],[88,10,89,8],[89,8,90,6],[89,14,90,12,"AsyncStorage"],[89,26,90,24],[89,27,90,24,"default"],[89,34,90,24],[89,35,90,25,"removeItem"],[89,45,90,35],[89,46,90,36],[89,53,90,43],[89,54,90,44],[90,8,91,6],[90,14,91,12,"AsyncStorage"],[90,26,91,24],[90,27,91,24,"default"],[90,34,91,24],[90,35,91,25,"removeItem"],[90,45,91,35],[90,46,91,36],[90,52,91,42],[90,53,91,43],[91,8,92,6,"setToken"],[91,16,92,14],[91,17,92,15],[91,21,92,19],[91,22,92,20],[92,8,93,6,"setUser"],[92,15,93,13],[92,16,93,14],[92,20,93,18],[92,21,93,19],[93,6,94,4],[93,7,94,5],[93,8,94,6],[93,15,94,13,"error"],[93,20,94,18],[93,22,94,20],[94,8,95,6,"console"],[94,15,95,13],[94,16,95,14,"error"],[94,21,95,19],[94,22,95,20],[94,42,95,40],[94,44,95,42,"error"],[94,49,95,47],[94,50,95,48],[95,6,96,4],[96,4,97,2],[96,5,97,3],[97,4,99,2],[97,24,100,4],[97,28,100,4,"_reactJsxDevRuntime"],[97,47,100,4],[97,48,100,4,"jsxDEV"],[97,54,100,4],[97,56,100,5,"AuthContext"],[97,67,100,16],[97,68,100,17,"Provider"],[97,76,100,25],[98,6,100,26,"value"],[98,11,100,31],[98,13,100,33],[99,8,100,35,"user"],[99,12,100,39],[100,8,100,41,"token"],[100,13,100,46],[101,8,100,48,"loading"],[101,15,100,55],[102,8,100,57,"login"],[102,13,100,62],[103,8,100,64,"register"],[103,16,100,72],[104,8,100,74,"logout"],[105,6,100,81],[105,7,100,83],[106,6,100,83,"children"],[106,14,100,83],[106,16,101,7,"children"],[107,4,101,15],[108,6,101,15,"fileName"],[108,14,101,15],[108,16,101,15,"_jsxFileName"],[108,28,101,15],[109,6,101,15,"lineNumber"],[109,16,101,15],[110,6,101,15,"columnNumber"],[110,18,101,15],[111,4,101,15],[111,11,102,26],[111,12,102,27],[112,2,104,0],[113,2,104,1,"_s"],[113,4,104,1],[113,5,24,16,"AuthProvider"],[113,17,24,28],[114,2,24,28,"_c"],[114,4,24,28],[114,7,24,16,"AuthProvider"],[114,19,24,28],[115,2,106,7],[115,11,106,16,"useAuth"],[115,18,106,23,"useAuth"],[115,19,106,23],[115,21,106,26],[116,4,106,26,"_s2"],[116,7,106,26],[117,4,107,2],[117,10,107,8,"context"],[117,17,107,15],[117,20,107,18],[117,24,107,18,"useContext"],[117,30,107,28],[117,31,107,28,"useContext"],[117,41,107,28],[117,43,107,29,"AuthContext"],[117,54,107,40],[117,55,107,41],[118,4,108,2],[118,8,108,6,"context"],[118,15,108,13],[118,20,108,18,"undefined"],[118,29,108,27],[118,31,108,29],[119,6,109,4],[119,12,109,10],[119,16,109,14,"Error"],[119,21,109,19],[119,22,109,20],[119,67,109,65],[119,68,109,66],[120,4,110,2],[121,4,111,2],[121,11,111,9,"context"],[121,18,111,16],[122,2,112,0],[123,2,112,1,"_s2"],[123,5,112,1],[123,6,106,16,"useAuth"],[123,13,106,23],[124,2,106,23],[124,6,106,23,"_c"],[124,8,106,23],[125,2,106,23,"$RefreshReg$"],[125,14,106,23],[125,15,106,23,"_c"],[125,17,106,23],[126,0,106,23],[126,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;OCuB;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJkB;iBKE;GLS;CDO;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}
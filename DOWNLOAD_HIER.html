<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Download Document - Lunar View</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 20px;
            background: #667eea;
            color: white;
            text-align: center;
            text-decoration: none;
            border-radius: 10px;
            font-size: 20px;
            font-weight: bold;
            border: none;
            cursor: pointer;
            margin: 20px 0;
        }
        .btn:hover {
            background: #5568d3;
        }
        .instructions {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 30px;
        }
        .instructions h3 {
            color: #667eea;
            margin-bottom: 15px;
        }
        .instructions ol {
            padding-left: 25px;
            line-height: 2;
        }
        code {
            background: #e9ecef;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: monospace;
        }
        .success {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“„ Functioneel Ontwerp Document</h1>
        <p class="subtitle">Lunar View Applicatie</p>
        
        <button onclick="downloadDocument()" class="btn">
            â¬‡ï¸ DOWNLOAD DOCUMENT
        </button>
        
        <div class="success" id="successMsg">
            âœ… Download gestart! Check je Downloads map.
        </div>
        
        <div class="instructions">
            <h3>ğŸ“ PDF maken van het gedownloade bestand:</h3>
            <ol>
                <li>Open het gedownloade <code>Functioneel_Ontwerp_Lunar_View.html</code> bestand in je browser</li>
                <li>Druk op <code>Ctrl+P</code> (Windows/Linux) of <code>Cmd+P</code> (Mac)</li>
                <li>Selecteer <strong>"Opslaan als PDF"</strong> als printer</li>
                <li>Klik op <strong>"Opslaan"</strong></li>
                <li>Klaar! Je hebt nu een PDF versie ğŸ‰</li>
            </ol>
        </div>
        
        <div class="instructions" style="margin-top: 20px;">
            <h3>ğŸ“¦ Inhoud van het document:</h3>
            <ul style="list-style: none; padding-left: 0;">
                <li>âœ“ Probleembeschrijving</li>
                <li>âœ“ Functionele Requirements</li>
                <li>âœ“ Use Cases (Gebruiksscenario's)</li>
                <li>âœ“ Schermontwerpen (Wireframes)</li>
                <li>âœ“ Niet-functionele Requirements</li>
                <li>âœ“ Technische Architectuur</li>
            </ul>
        </div>
    </div>

    <script>
        const documentContent = `
<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Functioneel Ontwerp - Lunar View</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 210mm;
            margin: 0 auto;
            padding: 20mm;
            background: #fff;
        }

        @media print {
            body {
                padding: 15mm;
            }
            .page-break {
                page-break-before: always;
            }
        }

        h1 {
            color: #6B7AFF;
            font-size: 2.5em;
            margin-bottom: 10px;
            border-bottom: 4px solid #6B7AFF;
            padding-bottom: 10px;
        }

        h2 {
            color: #4a5568;
            font-size: 1.8em;
            margin-top: 30px;
            margin-bottom: 15px;
            border-bottom: 2px solid #e1e8ed;
            padding-bottom: 8px;
        }

        h3 {
            color: #2d3748;
            font-size: 1.3em;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        h4 {
            color: #4a5568;
            font-size: 1.1em;
            margin-top: 15px;
            margin-bottom: 8px;
        }

        p {
            margin-bottom: 12px;
            text-align: justify;
        }

        .header-info {
            background: #f7fafc;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #6B7AFF;
        }

        .header-info p {
            margin-bottom: 5px;
        }

        .toc {
            background: #f7fafc;
            padding: 20px;
            border-radius: 8px;
            margin: 30px 0;
        }

        .toc h2 {
            margin-top: 0;
            color: #6B7AFF;
            border-bottom: none;
        }

        .toc ol {
            margin-left: 20px;
        }

        .toc li {
            margin: 8px 0;
        }

        ul, ol {
            margin-left: 30px;
            margin-bottom: 15px;
        }

        li {
            margin-bottom: 8px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.9em;
        }

        table th {
            background: #6B7AFF;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        table td {
            padding: 10px 12px;
            border: 1px solid #e1e8ed;
        }

        table tr:nth-child(even) {
            background: #f7fafc;
        }

        .wireframe {
            background: #f7fafc;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            white-space: pre;
            overflow-x: auto;
            margin: 20px 0;
            border: 1px solid #e1e8ed;
        }

        .use-case-table {
            margin: 20px 0;
        }

        .requirement {
            background: #f7fafc;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            border-left: 4px solid #6B7AFF;
        }

        .requirement h4 {
            margin-top: 0;
            color: #6B7AFF;
        }

        .priority-high {
            color: #e53e3e;
            font-weight: bold;
        }

        .priority-medium {
            color: #dd6b20;
            font-weight: bold;
        }

        .priority-low {
            color: #38a169;
            font-weight: bold;
        }

        .color-palette {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .color-box {
            padding: 15px;
            border-radius: 8px;
            min-width: 150px;
            color: white;
            font-weight: bold;
            text-align: center;
        }

        code {
            background: #f7fafc;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .architecture-diagram {
            background: #f7fafc;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            text-align: center;
            margin: 20px 0;
            border: 1px solid #e1e8ed;
        }

        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #e1e8ed;
            text-align: center;
            color: #718096;
            font-size: 0.9em;
        }

        strong {
            color: #2d3748;
        }
    </style>
</head>
<body>
    <h1>Functioneel Ontwerp Document</h1>
    <h2 style="color: #6B7AFF; border: none; margin-top: 10px;">Lunar View - Real-Time Astronomical Tracking Web Application</h2>

    <div class="header-info">
        <p><strong>Versie:</strong> 1.0</p>
        <p><strong>Datum:</strong> 30 November 2024</p>
        <p><strong>Auteur:</strong> Aniel-11</p>
        <p><strong>Status:</strong> Definitief</p>
    </div>

    <div class="toc">
        <h2>Inhoudsopgave</h2>
        <ol>
            <li>Probleembeschrijving</li>
            <li>Doelstellingen</li>
            <li>Functionele Eisen</li>
            <li>Niet-Functionele Eisen</li>
            <li>Use Case Diagrammen</li>
            <li>Use Case Tabellen</li>
            <li>Wireframes</li>
            <li>Schermontwerpen</li>
            <li>Technische Architectuur</li>
            <li>Data Model</li>
        </ol>
    </div>

    <div class="page-break"></div>

    <h2>1. Probleembeschrijving</h2>

    <h3>1.1 Context</h3>
    <p>Veel mensen zijn geÃ¯nteresseerd in astronomische fenomenen zoals zon- en maanstanden, maar hebben geen gemakkelijke manier om real-time informatie over deze fenomenen te verkrijgen op basis van hun specifieke locatie.</p>

    <h3>1.2 Probleem</h3>
    <p>Er ontbreekt een gebruiksvriendelijke webapplicatie die:</p>
    <ul>
        <li>Real-time astronomische data toont voor zon en maan</li>
        <li>Locatie-gebaseerde informatie biedt</li>
        <li>Gebruikers hun favoriete locaties laat opslaan</li>
        <li>Een moderne, responsieve interface heeft</li>
        <li>Personalisatie mogelijkheden biedt (thema's, notificaties)</li>
    </ul>

    <h3>1.3 Doelgroep</h3>
    <ul>
        <li>Astronomielijhebbers</li>
        <li>Fotografen (golden hour planning)</li>
        <li>Zeilers en buitensporters</li>
        <li>Educatieve doeleinden</li>
        <li>Algemeen publiek met interesse in astronomie</li>
    </ul>

    <div class="page-break"></div>

    <h2>2. Doelstellingen</h2>

    <h3>2.1 Hoofddoelstelling</h3>
    <p>Een webapplicatie ontwikkelen waarmee gebruikers eenvoudig real-time astronomische informatie kunnen raadplegen voor elke locatie ter wereld.</p>

    <h3>2.2 Specifieke Doelstellingen</h3>
    <ol>
        <li>Gebruikers kunnen zich registreren en inloggen</li>
        <li>Real-time zon- en maandata tonen op basis van GPS locatie</li>
        <li>Mogelijkheid om handmatig locaties te selecteren</li>
        <li>Favoriete locaties kunnen opslaan</li>
        <li>Personalisatie door verschillende thema's</li>
        <li>Notificaties voor astronomische events</li>
    </ol>

    <div class="page-break"></div>

    <h2>3. Functionele Eisen</h2>

    <div class="requirement">
        <h4>FR-01: Gebruikersbeheer</h4>
        <p><strong>Prioriteit:</strong> <span class="priority-high">Hoog</span></p>
        <p><strong>Beschrijving:</strong> Het systeem moet gebruikers in staat stellen om een account aan te maken en in te loggen.</p>
        <p><strong>Acceptatiecriteria:</strong></p>
        <ul>
            <li>Gebruiker kan registreren met email en wachtwoord</li>
            <li>Gebruiker kan optioneel een naam opgeven</li>
            <li>Wachtwoord moet minimaal 6 karakters bevatten</li>
            <li>Systeem valideert email format</li>
            <li>Bij succesvolle login wordt JWT token uitgegeven</li>
            <li>Token wordt opgeslagen in localStorage</li>
        </ul>
    </div>

    <div class="requirement">
        <h4>FR-02: Locatie Detectie (GPS)</h4>
        <p><strong>Prioriteit:</strong> <span class="priority-high">Hoog</span></p>
        <p><strong>Beschrijving:</strong> Het systeem moet automatisch de locatie van de gebruiker kunnen detecteren via browser geolocation.</p>
        <p><strong>Acceptatiecriteria:</strong></p>
        <ul>
            <li>Systeem vraagt toestemming voor locatietoegang</li>
            <li>Bij goedkeuring wordt GPS locatie opgehaald</li>
            <li>CoÃ¶rdinaten worden getoond aan gebruiker</li>
            <li>Reverse geocoding toont plaatsnaam</li>
            <li>Foutafhandeling bij geweigerde toegang</li>
        </ul>
    </div>

    <div class="requirement">
        <h4>FR-03: Handmatige Locatie Selectie</h4>
        <p><strong>Prioriteit:</strong> <span class="priority-high">Hoog</span></p>
        <p><strong>Beschrijving:</strong> Gebruikers moeten handmatig een locatie kunnen selecteren via coÃ¶rdinaten of plaatsnaam.</p>
        <p><strong>Acceptatiecriteria:</strong></p>
        <ul>
            <li>Modal interface met twee tabs: CoÃ¶rdinaten en Plaatsnaam</li>
            <li>CoÃ¶rdinaten tab accepteert latitude (-90 tot 90) en longitude (-180 tot 180)</li>
            <li>Plaatsnaam tab zoekt via OpenStreetMap Nominatim API</li>
            <li>Validatie op invoer</li>
            <li>Foutmeldingen bij ongeldige data</li>
            <li>Succesvolle selectie sluit modal en update data</li>
        </ul>
    </div>

    <div class="requirement">
        <h4>FR-04: Astronomische Data Weergave</h4>
        <p><strong>Prioriteit:</strong> <span class="priority-high">Hoog</span></p>
        <p><strong>Beschrijving:</strong> Het systeem toont real-time astronomische data voor zon en maan.</p>
        <p><strong>Acceptatiecriteria:</strong></p>
        <ul>
            <li>Data wordt opgehaald van ipgeolocation.io API</li>
            <li>Zon data: status, sunrise, sunset, solar noon, day length, altitude, azimuth</li>
            <li>Maan data: status, moonrise, moonset, altitude, azimuth, distance</li>
            <li>Data wordt getoond in kaartweergave</li>
            <li>Datum en tijd worden prominent getoond</li>
            <li>Data refresht bij locatiewijziging</li>
        </ul>
    </div>

    <div class="requirement">
        <h4>FR-05: Favorieten Beheer</h4>
        <p><strong>Prioriteit:</strong> <span class="priority-medium">Gemiddeld</span></p>
        <p><strong>Beschrijving:</strong> Gebruikers kunnen locaties opslaan als favorieten.</p>
        <p><strong>Acceptatiecriteria:</strong></p>
        <ul>
            <li>"Save Location" knop in Home scherm</li>
            <li>Huidige locatie wordt opgeslagen met naam en coÃ¶rdinaten</li>
            <li>Favorieten worden opgeslagen in database</li>
            <li>Favorieten scherm toont lijst van opgeslagen locaties</li>
            <li>Gebruiker kan favorieten verwijderen</li>
            <li>Confirmatie bij verwijderen</li>
        </ul>
    </div>

    <div class="requirement">
        <h4>FR-06: Theme Personalisatie</h4>
        <p><strong>Prioriteit:</strong> <span class="priority-low">Laag</span></p>
        <p><strong>Beschrijving:</strong> Gebruikers kunnen kiezen uit verschillende thema's.</p>
        <p><strong>Acceptatiecriteria:</strong></p>
        <ul>
            <li>3 thema opties: Dark, Light, Cosmic</li>
            <li>Visual theme selector in Profile</li>
            <li>Active theme krijgt indicator</li>
            <li>Auto-theme optie volgt systeem voorkeur</li>
            <li>Theme keuze wordt opgeslagen in localStorage</li>
            <li>Smooth transitions tussen thema's</li>
        </ul>
    </div>

    <div class="requirement">
        <h4>FR-07: Notificaties</h4>
        <p><strong>Prioriteit:</strong> <span class="priority-low">Laag</span></p>
        <p><strong>Beschrijving:</strong> Gebruikers kunnen browser notificaties ontvangen voor astronomische updates.</p>
        <p><strong>Acceptatiecriteria:</strong></p>
        <ul>
            <li>Toggle switch in Profile</li>
            <li>Permission request bij activering</li>
            <li>Test notificatie functionaliteit</li>
            <li>Notificaties bij data refresh (sunset/sunrise info)</li>
            <li>Disabled state bij geweigerde permissions</li>
            <li>Error handling</li>
        </ul>
    </div>

    <div class="requirement">
        <h4>FR-08: Data Refresh</h4>
        <p><strong>Prioriteit:</strong> <span class="priority-high">Hoog</span></p>
        <p><strong>Beschrijving:</strong> Gebruikers kunnen astronomische data verversen.</p>
        <p><strong>Acceptatiecriteria:</strong></p>
        <ul>
            <li>Refresh knop in header</li>
            <li>Pull-to-refresh op mobile</li>
            <li>Loading indicator tijdens refresh</li>
            <li>Error handling bij mislukte requests</li>
            <li>Success feedback</li>
        </ul>
    </div>

    <div class="page-break"></div>

    <h2>4. Niet-Functionele Eisen</h2>

    <div class="requirement">
        <h4>NFR-01: Performance</h4>
        <ul>
            <li>Pagina laadtijd < 3 seconden</li>
            <li>API response tijd < 2 seconden</li>
            <li>Smooth animations (60 FPS)</li>
        </ul>
    </div>

    <div class="requirement">
        <h4>NFR-02: Usability</h4>
        <ul>
            <li>IntuÃ¯tieve interface zonder handleiding</li>
            <li>Duidelijke feedback bij acties</li>
            <li>Toegankelijk voor kleurenblinden</li>
            <li>Touch-friendly buttons (min 44x44px)</li>
        </ul>
    </div>

    <div class="requirement">
        <h4>NFR-03: Responsive Design</h4>
        <ul>
            <li>Volledig responsive van 320px tot 4K</li>
            <li>Mobile-first design approach</li>
            <li>Breakpoints: 768px (tablet), 1024px (desktop)</li>
        </ul>
    </div>

    <div class="requirement">
        <h4>NFR-04: Browser Compatibility</h4>
        <ul>
            <li>Chrome/Edge (laatste 2 versies)</li>
            <li>Firefox (laatste 2 versies)</li>
            <li>Safari (laatste 2 versies)</li>
            <li>Mobile browsers (iOS Safari, Chrome Mobile)</li>
        </ul>
    </div>

    <div class="requirement">
        <h4>NFR-05: Security</h4>
        <ul>
            <li>JWT token authenticatie</li>
            <li>HTTPS vereist in productie</li>
            <li>Password hashing (bcrypt)</li>
            <li>XSS/CSRF bescherming</li>
            <li>Input validatie</li>
        </ul>
    </div>

    <div class="page-break"></div>

    <h2>5. Use Case Diagram</h2>

    <div class="architecture-diagram">
<pre>
                Lunar View System

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                         â”‚
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
    â”‚    â”‚Registrerenâ”‚                        â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
    â”‚          â”‚                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”     â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚       â”‚â—„â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â–ºâ”‚ Inloggen â”‚            â”‚
â”‚Gebruiker    â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚       â”‚â—„â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚            â”‚                 â”‚
              â”‚      â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
              â”‚      â”‚Bekijk Astro    â”‚      â”‚
              â”‚      â”‚Data            â”‚      â”‚
              â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
              â”‚            â”‚                 â”‚
              â”‚      â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
              â””â”€â”€â”€â”€â”€â”€â–ºâ”‚Selecteer      â”‚      â”‚
                     â”‚Locatie         â”‚      â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                           â”‚                 â”‚
                     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
                     â”‚Opslaan         â”‚      â”‚
                     â”‚Favoriet        â”‚      â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                           â”‚                 â”‚
                     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
                     â”‚Wijzig Thema    â”‚      â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                           â”‚                 â”‚
                     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
                     â”‚Notificaties    â”‚      â”‚
                     â”‚Beheren         â”‚      â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
    </div>

    <div class="page-break"></div>

    <h2>6. Use Case Tabellen</h2>

    <h3>UC-01: Gebruiker Registreren</h3>
    <table class="use-case-table">
        <tr>
            <th style="width: 30%;">Attribuut</th>
            <th>Beschrijving</th>
        </tr>
        <tr>
            <td><strong>Use Case ID</strong></td>
            <td>UC-01</td>
        </tr>
        <tr>
            <td><strong>Use Case Naam</strong></td>
            <td>Gebruiker Registreren</td>
        </tr>
        <tr>
            <td><strong>Actor</strong></td>
            <td>Nieuwe Gebruiker</td>
        </tr>
        <tr>
            <td><strong>Prioriteit</strong></td>
            <td><span class="priority-high">Hoog</span></td>
        </tr>
        <tr>
            <td><strong>Precondities</strong></td>
            <td>
                - Gebruiker heeft geen bestaand account<br>
                - Systeem is bereikbaar
            </td>
        </tr>
        <tr>
            <td><strong>Postcondities</strong></td>
            <td>
                - Account is aangemaakt<br>
                - Gebruiker is ingelogd<br>
                - JWT token is uitgegeven
            </td>
        </tr>
        <tr>
            <td><strong>Basis Flow</strong></td>
            <td>
                1. Gebruiker navigeert naar register pagina<br>
                2. Systeem toont registratie formulier<br>
                3. Gebruiker vult email en wachtwoord in<br>
                4. Gebruiker klikt op "Register"<br>
                5. Systeem valideert invoer<br>
                6. Systeem maakt account aan<br>
                7. Systeem logt gebruiker in<br>
                8. Systeem redirect naar home
            </td>
        </tr>
        <tr>
            <td><strong>Alternatieve Flow</strong></td>
            <td>
                <strong>3a. Email al in gebruik</strong><br>
                - Systeem toont error "Email already registered"<br>
                - Gebruiker kan andere email proberen<br><br>
                <strong>3b. Wachtwoord te kort</strong><br>
                - Systeem toont error "Password must be at least 6 characters"<br>
                - Gebruiker moet langer wachtwoord invoeren<br><br>
                <strong>3c. Wachtwoorden komen niet overeen</strong><br>
                - Systeem toont error "Passwords do not match"<br>
                - Gebruiker moet wachtwoorden opnieuw invoeren
            </td>
        </tr>
        <tr>
            <td><strong>Uitzonderingen</strong></td>
            <td>
                - Geen internetverbinding<br>
                - Server niet bereikbaar<br>
                - Database error
            </td>
        </tr>
    </table>

    <div class="page-break"></div>

    <h3>UC-03: Astronomische Data Bekijken</h3>
    <table class="use-case-table">
        <tr>
            <th style="width: 30%;">Attribuut</th>
            <th>Beschrijving</th>
        </tr>
        <tr>
            <td><strong>Use Case ID</strong></td>
            <td>UC-03</td>
        </tr>
        <tr>
            <td><strong>Use Case Naam</strong></td>
            <td>Astronomische Data Bekijken</td>
        </tr>
        <tr>
            <td><strong>Actor</strong></td>
            <td>Ingelogde Gebruiker</td>
        </tr>
        <tr>
            <td><strong>Prioriteit</strong></td>
            <td><span class="priority-high">Hoog</span></td>
        </tr>
        <tr>
            <td><strong>Basis Flow</strong></td>
            <td>
                1. Systeem detecteert GPS locatie<br>
                2. Gebruiker geeft toestemming<br>
                3. Systeem haalt coÃ¶rdinaten op<br>
                4. Systeem doet reverse geocoding<br>
                5. Systeem haalt astronomische data op van API<br>
                6. Systeem toont zon data<br>
                7. Systeem toont maan data<br>
                8. Systeem toont datum en tijd
            </td>
        </tr>
    </table>

    <div class="page-break"></div>

    <h2>7. Wireframes</h2>

    <h3>7.1 Login Scherm</h3>
    <div class="wireframe">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                     â”‚
â”‚                  [LUNAR VIEW LOGO]                  â”‚
â”‚                   (200x200px)                       â”‚
â”‚                   LUNAR VIEW                        â”‚
â”‚          Real-Time Astronomical Tracking            â”‚
â”‚                                                     â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚  Email                                  â”‚    â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                     â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚  Password                               â”‚    â”‚
â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                     â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚              â”‚       Login         â”‚               â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚          Don't have an account? Register            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>

    <h3>7.2 Home Scherm (Dashboard)</h3>
    <div class="wireframe">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [LOGO]  ğŸ“ Amsterdam, Netherlands                        â”‚
â”‚  [ğŸ—ºï¸ Select] [â­ Save] [ğŸ”„ Refresh]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          2024-11-30  |  14:30:45                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  â˜€ï¸ Sun           â”‚    â”‚  ğŸŒ™ Moon          â”‚       â”‚
â”‚  â”‚  Status: Daylight  â”‚    â”‚  Status: Below     â”‚       â”‚
â”‚  â”‚  Sunrise: 08:23    â”‚    â”‚  Moonrise: 19:45   â”‚       â”‚
â”‚  â”‚  Sunset: 16:47     â”‚    â”‚  Moonset: 08:12    â”‚       â”‚
â”‚  â”‚  Altitude: 23.4Â°   â”‚    â”‚  Distance: 384400  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>

    <h3>7.3 Profile Scherm</h3>
    <div class="wireframe">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Profile                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚            ğŸ‘¤  John Doe                        â”‚ â”‚
â”‚  â”‚         john@example.com                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                      â”‚
â”‚  ğŸ¨ Theme Settings                                   â”‚
â”‚  [ğŸŒ™ Dark âœ“] [â˜€ï¸ Light] [ğŸŒŒ Cosmic]                â”‚
â”‚  â˜‘ Auto theme (follow system)                      â”‚
â”‚                                                      â”‚
â”‚  ğŸ”” Notifications                                    â”‚
â”‚  Browser Notifications         [Toggle: ON]         â”‚
â”‚  [ğŸ§ª Send Test Notification]                        â”‚
â”‚                                                      â”‚
â”‚  [            ğŸšª Logout            ]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>

    <div class="page-break"></div>

    <h2>8. Schermontwerpen</h2>

    <h3>8.1 Kleurenpalet</h3>

    <h4>Dark Theme (Default)</h4>
    <div class="color-palette">
        <div class="color-box" style="background: #0f1729;">
            Background<br>#0f1729
        </div>
        <div class="color-box" style="background: #1a2540;">
            Cards<br>#1a2540
        </div>
        <div class="color-box" style="background: #6B7AFF;">
            Primary<br>#6B7AFF
        </div>
        <div class="color-box" style="background: #A5B4FF;">
            Text<br>#A5B4FF
        </div>
    </div>

    <h4>Light Theme</h4>
    <div class="color-palette">
        <div class="color-box" style="background: #f5f7fa; color: #333;">
            Background<br>#f5f7fa
        </div>
        <div class="color-box" style="background: #ffffff; color: #333; border: 1px solid #ccc;">
            Cards<br>#ffffff
        </div>
        <div class="color-box" style="background: #4f5fd8;">
            Primary<br>#4f5fd8
        </div>
        <div class="color-box" style="background: #4a5568;">
            Text<br>#4a5568
        </div>
    </div>

    <h4>Cosmic Theme</h4>
    <div class="color-palette">
        <div class="color-box" style="background: #0a0118;">
            Background<br>#0a0118
        </div>
        <div class="color-box" style="background: #1a0f2e;">
            Cards<br>#1a0f2e
        </div>
        <div class="color-box" style="background: #a855f7;">
            Primary<br>#a855f7
        </div>
        <div class="color-box" style="background: #c4b5fd;">
            Text<br>#c4b5fd
        </div>
    </div>

    <h3>8.2 Typografie</h3>
    <ul>
        <li><strong>Font Family:</strong> -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto</li>
        <li><strong>Headings:</strong> 24px - 32px, Bold</li>
        <li><strong>Body:</strong> 16px, Regular</li>
        <li><strong>Small:</strong> 14px</li>
        <li><strong>Line Height:</strong> 1.5</li>
    </ul>

    <h3>8.3 Responsive Breakpoints</h3>
    <ul>
        <li><strong>Mobile:</strong> &lt; 768px - Single column, full width, bottom navigation</li>
        <li><strong>Tablet:</strong> 768px - 1024px - 2 column grid, adaptive sizing</li>
        <li><strong>Desktop:</strong> &gt; 1024px - Max width 1200px, multi-column</li>
    </ul>

    <div class="page-break"></div>

    <h2>9. Technische Architectuur</h2>

    <h3>9.1 System Architectuur</h3>
    <div class="architecture-diagram">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser       â”‚
â”‚   (React SPA)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ HTTPS
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vite Dev      â”‚
â”‚   Server :3000  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ API Proxy
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FastAPI       â”‚
â”‚   Backend :8001 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚MongoDB â”‚ â”‚ ipgeolocation â”‚
â”‚ :27017 â”‚ â”‚     API       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
    </div>

    <h3>9.2 Tech Stack</h3>

    <h4>Frontend</h4>
    <ul>
        <li>React 18+</li>
        <li>Vite (build tool)</li>
        <li>React Router DOM v6</li>
        <li>CSS Modules</li>
        <li>Axios (HTTP client)</li>
        <li>Context API (state management)</li>
    </ul>

    <h4>Backend</h4>
    <ul>
        <li>FastAPI (Python)</li>
        <li>Motor (async MongoDB driver)</li>
        <li>JWT authentication</li>
        <li>Pydantic (validation)</li>
        <li>Passlib (password hashing)</li>
    </ul>

    <h4>Database</h4>
    <ul>
        <li>MongoDB</li>
        <li>Collections: users, favorites</li>
    </ul>

    <h4>External APIs</h4>
    <ul>
        <li>ipgeolocation.io (astronomy data)</li>
        <li>OpenStreetMap Nominatim (geocoding)</li>
        <li>Browser Geolocation API</li>
        <li>Browser Notification API</li>
    </ul>

    <div class="page-break"></div>

    <h2>10. Data Model</h2>

    <h3>10.1 Database Schema</h3>

    <h4>Users Collection</h4>
    <pre style="background: #f7fafc; padding: 15px; border-radius: 8px; border: 1px solid #e1e8ed;">
{
  "_id": ObjectId,
  "email": String (unique, required),
  "password": String (hashed, required),
  "name": String (optional),
  "created_at": DateTime (default: now)
}</pre>

    <h4>Favorites Collection</h4>
    <pre style="background: #f7fafc; padding: 15px; border-radius: 8px; border: 1px solid #e1e8ed;">
{
  "_id": ObjectId,
  "user_id": String (reference to User._id, required),
  "location_name": String (required),
  "latitude": Float (required, -90 to 90),
  "longitude": Float (required, -180 to 180),
  "saved_at": DateTime (default: now)
}</pre>

    <h3>10.2 API Endpoints</h3>

    <table>
        <tr>
            <th>Method</th>
            <th>Endpoint</th>
            <th>Beschrijving</th>
        </tr>
        <tr>
            <td>POST</td>
            <td>/api/auth/register</td>
            <td>Registreer nieuwe gebruiker</td>
        </tr>
        <tr>
            <td>POST</td>
            <td>/api/auth/login</td>
            <td>Login gebruiker</td>
        </tr>
        <tr>
            <td>GET</td>
            <td>/api/auth/me</td>
            <td>Haal huidige gebruiker op</td>
        </tr>
        <tr>
            <td>GET</td>
            <td>/api/astronomy</td>
            <td>Haal astronomische data op</td>
        </tr>
        <tr>
            <td>GET</td>
            <td>/api/favorites</td>
            <td>Haal alle favorites op</td>
        </tr>
        <tr>
            <td>POST</td>
            <td>/api/favorites</td>
            <td>Voeg favorite toe</td>
        </tr>
        <tr>
            <td>DELETE</td>
            <td>/api/favorites/{id}</td>
            <td>Verwijder favorite</td>
        </tr>
    </table>

    <div class="page-break"></div>

    <h2>Conclusie</h2>

    <p>Dit functioneel ontwerp document beschrijft een complete webapplicatie voor real-time astronomische tracking. De applicatie biedt gebruikers een moderne, intuÃ¯tieve interface om zon- en maandata te bekijken, locaties te beheren, en hun ervaring te personaliseren.</p>

    <h3>Kernfunctionaliteiten</h3>
    <ul>
        <li>Gebruikersbeheer met JWT authenticatie</li>
        <li>Real-time astronomische data via externe API</li>
        <li>GPS en handmatige locatieselectie</li>
        <li>Favorieten beheer</li>
        <li>3 thema's + auto-mode</li>
        <li>Browser notificaties</li>
    </ul>

    <h3>Technische Highlights</h3>
    <ul>
        <li>React SPA met Vite</li>
        <li>FastAPI backend</li>
        <li>MongoDB database</li>
        <li>Responsive design</li>
        <li>Modern CSS met CSS Modules</li>
        <li>Context API voor state management</li>
    </ul>

    <p>De applicatie is ontworpen met focus op gebruiksvriendelijkheid, performance, en schaalbaarheid.</p>

    <div class="footer">
        <p><strong>Document Versie:</strong> 1.0</p>
        <p><strong>Laatst Bijgewerkt:</strong> 30 November 2024</p>
        <p><strong>Status:</strong> Definitief voor Implementatie</p>
        <p><strong>Auteur:</strong> Aniel-11</p>
    </div>

</body>
</html>
\`;
        
        function downloadDocument() {
            const blob = new Blob([documentContent], { type: 'text/html' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Functioneel_Ontwerp_Lunar_View.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            document.getElementById('successMsg').style.display = 'block';
            setTimeout(() => {
                document.getElementById('successMsg').style.display = 'none';
            }, 5000);
        }
    </script>
</body>
</html>
